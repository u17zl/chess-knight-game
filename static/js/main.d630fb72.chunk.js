(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),c=n.n(r),i=(n(9),n(10),n(1)),l=function(e){var t=e.position,n=e.target,a=e.board,r=e.handleMovePiece;return o.a.createElement("table",{className:"chessboard"},o.a.createElement("tbody",null,a.map((function(e,a){return o.a.createElement("tr",{id:"piece",key:"row-".concat(a)},e.map((function(e,c){var i;return a===t[0]&&c===t[1]&&(i="knight"),a===n[0]&&c===n[1]&&(i="target"),o.a.createElement("td",{key:"cell-".concat(c),className:i,onClick:function(){return r(a,c)}})})))}))))},s=function(e){var t=e.position,n=e.target,r=e.initStart,c=e.handleHelpMove,l=Object(a.useState)(!1),s=Object(i.a)(l,2),u=s[0],m=s[1];Object(a.useEffect)((function(){f()}),[t]);var f=function(){t[0]===n[0]&&t[1]===n[1]&&0!==t.length&&m(!0)};return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-md-center"},o.a.createElement("div",{className:"col-md-auto"},o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){m(!1),r()}},"Start")),o.a.createElement("div",{className:"col-md-auto"},o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:c},"Help"))),u&&o.a.createElement("div",{className:"row justify-content-md-center",style:{marginTop:30}},o.a.createElement("div",{className:"alert alert-primary",role:"alert"},'You Win! Click "Start" to replay')))};for(var u=new Array(8).fill(0),m=0;m<u.length;m++)u[m]=new Array(8).fill(0);var f=function(e){var t=Object(a.useState)(u),n=Object(i.a)(t,2),r=n[0],c=(n[1],Object(a.useState)([])),m=Object(i.a)(c,2),f=m[0],h=m[1],d=Object(a.useState)([]),p=Object(i.a)(d,2),v=p[0],b=p[1];Object(a.useEffect)((function(){E()}),[]);var E=function(){var e=function(){for(;;){var e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()),n=Math.floor(8*Math.random()),a=Math.floor(8*Math.random());if([e,t]!==[n,a])return[[e,t],[n,a]]}}(),t=Object(i.a)(e,2),n=t[0],a=t[1];h(n),b(a)};return o.a.createElement(a.Fragment,null,o.a.createElement(l,{position:f,target:v,board:r,handleMovePiece:function(e,t){console.log("click",e,t),function(e,t){for(var n=[2,2,-2,-2,1,1,-1,-1],a=[1,-1,1,-1,2,-2,2,-2],o=0;o<8;o++)if(t[0]===e[0]+n[o]&&t[1]===e[1]+a[o])return!0;return!1}(f,[e,t])&&h([e,t])}}),o.a.createElement(s,{position:f,target:v,initStart:E,handleHelpMove:function(){f[0]===v[0]&&f[1]===v[1]&&0!==f.length||fetch("https://chess.courselect.info/api/chess/helps/api/chess/helps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({position:f,target:v})}).then((function(e){return e.json()})).then((function(e){for(var t=function(t){setTimeout((function(){h(e.path[t])}),1e3*t)},n=0;n<e.path.length;n++)t(n)}))}}))};var h=function(){return o.a.createElement(f,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(11);c.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.d630fb72.chunk.js.map