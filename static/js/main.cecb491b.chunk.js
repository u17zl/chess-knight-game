(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,function(t,e,n){t.exports=n(12)},,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(3),c=n.n(r),i=(n(9),n(10),n(1)),l=function(t){var e=t.position,n=t.target,a=t.board,r=t.handleMovePiece;return o.a.createElement("table",{className:"chessboard"},o.a.createElement("tbody",null,a.map((function(t,a){return o.a.createElement("tr",{id:"piece",key:"row-".concat(a)},t.map((function(t,c){var i;return a===e[0]&&c===e[1]&&(i="knight"),a===n[0]&&c===n[1]&&(i="target"),o.a.createElement("td",{key:"cell-".concat(c),className:i,onClick:function(){return r(a,c)}})})))}))))},s=function(t){var e=t.position,n=t.target,r=t.initStart,c=t.handleHelpMove,l=Object(a.useState)(!1),s=Object(i.a)(l,2),u=s[0],m=s[1];Object(a.useEffect)((function(){f()}),[e]);var f=function(){e[0]===n[0]&&e[1]===n[1]&&0!==e.length&&m(!0)};return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-md-center"},o.a.createElement("div",{className:"col-md-auto"},o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){m(!1),r()}},"Start")),o.a.createElement("div",{className:"col-md-auto"},o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:c},"Help"))),u&&o.a.createElement("div",{className:"row justify-content-md-center",style:{marginTop:30}},o.a.createElement("div",{className:"alert alert-primary",role:"alert"},'You Win! Click "Start" to replay')))};for(var u=new Array(8).fill(0),m=0;m<u.length;m++)u[m]=new Array(8).fill(0);var f=function(t){var e=Object(a.useState)(u),n=Object(i.a)(e,2),r=n[0],c=(n[1],Object(a.useState)([])),m=Object(i.a)(c,2),f=m[0],h=m[1],d=Object(a.useState)([]),p=Object(i.a)(d,2),v=p[0],b=p[1];Object(a.useEffect)((function(){g()}),[]);var g=function(){var t=function(){for(;;){var t=Math.floor(8*Math.random()),e=Math.floor(8*Math.random()),n=Math.floor(8*Math.random()),a=Math.floor(8*Math.random());if([t,e]!==[n,a])return[[t,e],[n,a]]}}(),e=Object(i.a)(t,2),n=e[0],a=e[1];h(n),b(a)};return o.a.createElement(a.Fragment,null,o.a.createElement(l,{position:f,target:v,board:r,handleMovePiece:function(t,e){console.log("click",t,e),function(t,e){for(var n=[2,2,-2,-2,1,1,-1,-1],a=[1,-1,1,-1,2,-2,2,-2],o=0;o<8;o++)if(e[0]===t[0]+n[o]&&e[1]===t[1]+a[o])return!0;return!1}(f,[t,e])&&h([t,e])}}),o.a.createElement(s,{position:f,target:v,initStart:g,handleHelpMove:function(){f[0]===v[0]&&f[1]===v[1]&&0!==f.length||fetch("http://chessknight-env.dtgatvx9v7.ap-southeast-2.elasticbeanstalk.com/api/chess/helps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({position:f,target:v})}).then((function(t){return t.json()})).then((function(t){for(var e=function(e){setTimeout((function(){h(t.path[e])}),1e3*e)},n=0;n<t.path.length;n++)e(n)}))}}))};var h=function(){return o.a.createElement(f,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(11);c.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.cecb491b.chunk.js.map